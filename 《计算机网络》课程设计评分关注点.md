# 《计算机网络》课程设计评分关注点

## RDT 3.0 关注点

### 出错

包出现的情况分为两种，数据包出错和确认包出错。

（1）数据包出错

- 现象核对：

  - 检查Log文件，是否所有出错的数据包都进行了重传，并且重传的数据包都得到了确认；检查输出文件，是否对应包的正确内容包含在输出文件中，而不是包含出错的包内容以及重复的包内容（重复可以通过检查输出文件行数的办法来看）。

- 设计检查：

  - 检查收方在收到错误的数据包时，是否发错的是对上一个序号的确认。
  - 发方在收到上一个序号的确认时，是否重传当前数据包。
  - 发送方如何实现的停止等待。

（2） 确认包出错

- 现象核对：
  - 检查Log文件，出错的确认包是否引发了当前包的重传，检查输出文件，是否对应包的正确内容包含在输出文件中，并且输出文件中不包含出错的包内容以及重复的包内容。

- 设计检查：

  - 检查发送方收到错误的确认时，是否重传当前包。
  - 检查发送方如何实现的停止等待。

### 丢失

- 现象核对：
  - 检查Log文件，发生丢包（包含数据包和确认包），是否发送方在<font color=Red>3s </font>后进行了超时重传。检查输出文件，是否对应包的正确内容包含在输出文件中，而且不包含重复的包内容（重复可以通过检查输出文件行数的办法来看）。

- 设计检查：

  - 检查发送方如何实现的停止等待。

  - 超时重传的实现代码。

## GB/SR/TCP

### GB

- 现象核对：

  - 检查Log文件，当出现错误（包含数据包出错、数据包或确认报丢包）时，是否出现发方在<font color=Red>3s</font>后超时重传当前窗口内的所有包；超时重传的包是否包含发送端已经收到确认的包。常见错误：发送方只重传了一个数据包。
  - 检查接收方有没有做为期<font color=Red> 500ms </font>的累计确认。
  - 检查输出文件，是否对应包的正确内容包含在输出文件中，而不是包含出错的包内容以及重复的包内容（重复可以通过检查输出文件行数的办法来看）。

- 设计检查：

  - 发送端使用了什么样的数据结构来维护发送窗口，是否合理；窗口是否随着发送端收到已发送数据包的确认后进行了右移；是否在发送窗口空间用完后阻止应用层继续调用，从而将窗口空间无法接收的包，收到了发送对象内。
  - 发送端如何完成对于当前窗口内的所有包进行超时重传；发送方仅使用1个计时器。
  - 接收端如何实现累计确认；接收方仅使用一个计时器。
  - 接收方是否使用了窗口缓存，按GB协议，接收方不缓存失序的包。

### SR

- 现象核对：

  - 检查Log文件，当出现错误（包含数据包出错、数据包或确认报丢包）时，是否发方在<font color=Red>3s</font>后超时重传对应数据包。常见错误：发送方重传的数据包并不是出现错误问题的数据包。
  - 检查输出文件，是否存在乱序的情况。

- 设计检查：

  - 发送端使用了什么样的数据结构来维护发送窗口，是否合理；窗口是否随着发送端收到已发送数据包的确认后进行了右移；是否在发送窗口空间用完后阻止应用层继续调用，从而将窗口空间无法接收的包，收到了发送对象内。
  - 发送端是否为每一个数据包设置计时器。
  - 接收端是否设置了接收窗口来缓存失序的报文；接收方如何将连续的报文段进行提交。注意：接收方不需要计时器。
  
### TCP

- 现象核对：

  - 检查Log文件，当出现错误（包含数据包出错、数据包或确认报丢包）时，是否出现发方在<font color=Red>3s</font>后超时重传当前窗口内的所有未收到确认的包；超时重传的包是否包含发送端已经收到确认的包。常见错误：发送方只重传了一个数据包。
  - 检查接收方有没有做为期<font color=Red>500ms</font>的累计确认。
  - 检查输出文件，是否对应包的正确内容包含在输出文件中，而不是包含出错的包内容以及重复的包内容（重复可以通过检查输出文件行数的办法来看）。

- 设计检查：

  - 发送端使用了什么样的数据结构来维护发送窗口，是否合理；窗口是否随着发送端收到已发送数据包的确认后进行了右移；是否在发送窗口空间用完后阻止应用层继续调用，从而将窗口空间无法接收的包，收到了发送对象内。
  - 发送端如何完成对于当前窗口内的所有未收到确认的包进行超时重传；发送方仅使用1个计时器。
  - 接收端如何实现累计确认；接收方仅使用一个计时器。
  - 接收端是否设置了接收窗口来缓存失序的报文；接收方如何将连续的报文段进行提交。

## 拥塞控制

### Tahoe

- 现象核对：
  - 除核对基本TCP要点外，核对发送过程是否表现出慢开始、加法增大；出现超时重传后，是否再次出现慢开始。

- 设计检查：

  - 除检查基本TCP要点外，重点关注发送端使用哪一种数据结构实现了动态窗口，动态窗口如何在慢开始和拥塞避免阶段增大的。
  - 出现超时重传后，如何减小窗口大小，特别是已经在窗口内的包如何处理；如何修改慢开始门限。
  
### Reno

- 现象核对：

  - 除核对基本TCP要点外，核对发送过程是否表现出慢开始、加法增大；出现超时重传后，是否再次出现慢开始。
  - 设特别关注接收方在传输正常时，使用累计确认，而在传输出错时，放弃累积确认，转为发送重复确认；是否在个别数据包出错后，能够出现三个重复确认，并在发送方收到三个重复确认后是否出现快重传，是否进行快恢复。

- 设计检查：

  - 接收方如何在传输出错时，使用什么样的方语句，从累积确认转为发送重复确认。
  - 发送方如何判断收到3个重复确认后，如何发送快重传的报文，以及如何进行快恢复。

## 注意

  - 确认包的序号是指向当前序号，还是接收方期待收到的序号，实验中不做要求，序号用字节序号或者包序号也不做要求。